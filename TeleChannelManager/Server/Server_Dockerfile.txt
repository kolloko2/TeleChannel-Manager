# Dockerfile for TeleChannel Manager server
# Generated by Nikolay Kodzaev
# Date: 2025-06-22

FROM ubuntu:20.04

# Install dependencies
RUN apt-get update && apt-get install -y \
    qt5-default \
    qtbase5-dev \
    qt5-qmake \
    libqt5sql5-sqlite \
    libqt5network5 \
    g++ \
    make \
    libssl-dev \
    zlib1g-dev \
    && rm -rf /var/lib/apt/lists/*

# Set working directory
WORKDIR /app

# Copy server source files
COPY Server /app

# Build server and tests
RUN qmake Server.pro && make

# Expose server port
EXPOSE 12345

# Run server
CMD ["./servercontroller"]